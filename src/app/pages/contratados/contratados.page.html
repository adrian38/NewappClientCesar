
<ion-header [translucent]="true" class="ion-no-border">

  <div id="barraInferior">
    <ion-row>
      
      <ion-col size=3 >
        <img  id="logo"  src="../../assets/logoNavbar.png">
    
      </ion-col>
      
    
     
       <ion-col size=6>
        <h2 style="text-align: center;color: rgb(246, 183, 118);">Servicio</h2>
    
       </ion-col>
      
     </ion-row>
     
     
    </div>
   
  
  
</ion-header>

<ion-content>
  <ion-row style="margin-top: 15px;">
    <ion-col size=1></ion-col>
    
    <ion-col size=10 >

      <div id="item">
        <ion-row style="margin-top: 10px;" >
          <ion-col size=1.3>
            <img style="width: 19px; height: 20px;" src="../../assets/calendario.png">
          </ion-col>
          <ion-col size=10.7>
            <ion-label style="font-family:'HelveticaNeueLTStd-Bd' ;color: rgb(49 ,49 ,57);">Fecha</ion-label>
          </ion-col>
        </ion-row>
 
        <ion-row style="margin-bottom: 9px;">
          <ion-label style="margin-top: 5px;">{{ task.date_planned |date:'EEEE d MMMM yyyy' | lowercase}}</ion-label>
         
        </ion-row>
        </div>

        <div id="item">
          <ion-row style="margin-top: 10px;">
            <ion-col size=1.3> <img style="width: 19px;height: 20px;" src="../../assets/hora.png">
            </ion-col>
            <ion-col size=10.7>
              <ion-label style="font-family:'HelveticaNeueLTStd-Bd' ;color: rgb(49 ,49 ,57);">Hora</ion-label>
            </ion-col>
            
          </ion-row>
   
          <ion-row>
            
            <ion-row style="margin-bottom: 9px;">
              <ion-label style="margin-top: 5px;">{{task.time |date: 'h:mm a' }}</ion-label>
             
            </ion-row>
          </ion-row>
          </div>

          <div id="item">
            <ion-row style="margin-top: 10px;">
              <ion-col size=1.3> <img style="width: 18px;height: 23px;" src="../../assets/2.png"></ion-col>
              <ion-col size=10.7>
                <ion-label style="font-family:'HelveticaNeueLTStd-Bd' ;color: rgb(49 ,49 ,57);">Direccion</ion-label>
              </ion-col>
              
            </ion-row>
     
            <ion-row>
             
            
                <ion-col size=10>
                    <ion-row>
                      <ion-label>{{task.address.street}} {{task.address.number}} {{task.address.floor}}</ion-label>
                      <ion-label>{{task.address.stair}} {{task.address.portal}} {{task.address.cp}}</ion-label>
                     
                    </ion-row>
                  </ion-col >
                  <ion-col size=2  style="text-align: end;">
                    <img   id="imgGPS"
                            src="../../../assets/ubicacion.png"
                            (click)="verubicacion()"
                                                >
                  </ion-col>
                </ion-row>
                
          
            </div>

            <div id="item">
              <ion-row style="margin-top: 10px;" >
                <ion-col size=1.3>
                  <img style="width: 19px; height: 22px;" src="../../assets/bolsa.png">
                </ion-col>
                <ion-col size=10.7>
                  <ion-label style="font-family:'HelveticaNeueLTStd-Bd' ;color: rgb(49 ,49 ,57);">Precio</ion-label>
                </ion-col>
              </ion-row>
       

              <ion-row>
                <ion-col size=7 >
                  <ion-label>{{task.budget}} â‚¬</ion-label>
                </ion-col>
                
                <ion-col size=5 style="text-align: end;">
                  <ion-button id="buton" 
                  style="font-size: 7px;"
                  (click)="verFactura()">Ver factura</ion-button>
                </ion-col>
                 
              </ion-row>
              </div>

              <div id="item">

                <ion-row style="margin-top: 10px;">
                  <ion-col size=1.3> <img style="width: 20px;height: 20px;" src="../../assets/cam.png">
                  </ion-col>
                  <ion-col size=10.7>
                    <ion-label style="font-family:'HelveticaNeueLTStd-Bd' ;color: rgb(49 ,49 ,57);">Fotos</ion-label>
                  </ion-col>
                  
                </ion-row>
                <ion-row>
                  <ion-label style="font-size: smaller;">Antes</ion-label> 
                </ion-row>
                <ion-row >
            
                  <ion-col size=4  style="margin-left: -3px;">
                    <ion-card  style="border: 0.5px solid  rgb(49 ,49 ,57); width: 80px;height: 80px;border-radius: 5px 5px 5px 5px;">
                      <img id="selecf"  src="{{task.photoNewTaskArray[0]}}"  onError="this.src='assets/noImage.png'" 
                      >
                    </ion-card>
                    </ion-col>
                    <ion-col size=4  style="text-align: center;">
                      <ion-card style="border: 0.5px solid  rgb(49 ,49 ,57); width: 80px;height: 80px;border-radius: 5px 5px 5px 5px;">
                        <img id="selecf"  src="{{task.photoNewTaskArray[1]}}"  onError="this.src='assets/noImage.png'">
                      </ion-card>
                      </ion-col>
                  
                      <ion-col size=4  style="text-align: center;">
                        <ion-card style="border: 0.5px solid  rgb(49 ,49 ,57); width: 80px;height: 80px;border-radius: 5px 5px 5px 5px;">
                          <img id="selecf"  src="{{task.photoNewTaskArray[2]}}"  onError="this.src='assets/noImage.png'">
                        </ion-card>
                        </ion-col>
      
                
      
      
                </ion-row>
                <ion-row>
                  <ion-label style="font-size: smaller;">Despues</ion-label> 
                </ion-row>

                <ion-row>
            
                  <ion-col size=4  style="text-align: start;">
                    <ion-card  style="border: 0.5px solid  rgb(49 ,49 ,57); width: 80px;height: 80px;border-radius: 5px 5px 5px 5px;">
                      <img id="selecf"  src=""  onError="this.src='assets/noImage.png'" 
                      >
                    </ion-card>
                    </ion-col>
                    <ion-col size=4  style="text-align:start;">
                      <ion-card style="border: 0.5px solid  rgb(49 ,49 ,57); width: 80px;height: 80px;border-radius: 5px 5px 5px 5px;">
                        <img id="selecf"  src="{{task.photoNewTaskArray[1]}}"  onError="this.src='assets/noImage.png'">
                      </ion-card>
                      </ion-col>
                  
                      <ion-col size=4  style="text-align: start;">
                        <ion-card style="border: 0.5px solid  rgb(49 ,49 ,57); width: 80px;height: 80px;border-radius: 5px 5px 5px 5px;">
                          <img id="selecf"  src="{{task.photoNewTaskArray[2]}}"  onError="this.src='assets/noImage.png'">
                        </ion-card>
                        </ion-col>
      
                
      
      
                </ion-row>
              </div>
            <div >
              <ion-row style="margin-top: 10px;">
                <ion-col size=1.3> <img style="width: 19px;height: 20px;" src="../../assets/1.png"></ion-col>
                <ion-col size=10.7>
                  <ion-label style="font-family:'HelveticaNeueLTStd-Bd' ;color: rgb(49 ,49 ,57);">Trabajadores</ion-label>
                </ion-col>
                
              </ion-row>
       
              <ion-row>
                <ion-col size=4>
                  <ion-label style="font-size: small;">{{task.client_name}}</ion-label>
                </ion-col>
                
                <ion-col size=4 style="text-align: end;">
                  <ion-button id="buton" 
                               style="font-size: 8px;"
                               (click)="clasificar()">Clasificar</ion-button>
                </ion-col>
                <ion-col size=4 style="text-align: end;">
                  <ion-button id="buton" 
                              style="font-size: 8px;"
                              (click)="denunciar()">Denunciar</ion-button>
                </ion-col>
                 
              </ion-row>
            
              </div>

      
 
         
   

      
    </ion-col>
     
    


    <ion-col size=1></ion-col>


  </ion-row>
  
    
  

     
     
     
    <ion-row style="margin-top: 45px;">
      <ion-col size=2></ion-col>
      <ion-col size=8 style="text-align: center;">
        <ion-button>Finalizar tarea</ion-button>
      </ion-col>
      <ion-col size=2></ion-col>
    </ion-row>

    <!-- ---------------------Separador Dialogo Clasificar------------------------------------ -->
  

    <p-dialog  [(visible)]="displayClasificar" position="bottom"[modal]="true"  [style]="{ width: '85vw' }" [baseZIndex]="1000" 
    [draggable]="false" [resizable]="false">
   
    <ion-row>
      <ion-col size=4>
        <img id="photoProvider"  src="{{task.photoProvider}}" onError="this.src='assets/noImage.png'">
      </ion-col>
      <ion-col size=8>
        <ion-row style="margin-top: 6px;">
          <ion-label style="font-family: 'HelveticaNeueLTStd-Bd';">{{task.client_name}}</ion-label>
        </ion-row>
        <ion-row>
          <ion-label >{{task.type}}</ion-label>
        </ion-row>
        <ion-row>
          <p-rating  [ngModel]="3" readonly="true" stars="5" [cancel]="false" (click)="punto()"
        ></p-rating>
        </ion-row>
      </ion-col>
    </ion-row>
   
      <ion-row style="margin-top: 10x;text-align: center;">
        <textarea name="Text1" cols="29" rows="10" 
        [(ngModel)]="comentario"
        placeholder="Escribe tu valoracion"
        ></textarea>
      </ion-row>
         
  </p-dialog>

  <!-- ---------------------Separador Dialogo Denunciar------------------------------------ -->
  
  <p-dialog  [(visible)]="displayDenunciar" [modal]="true" position="bottom" [style]="{ width: '85vw' }" [baseZIndex]="1000" 
    [draggable]="false" [resizable]="false">
   
    <ion-row>
      <ion-col size=4>
        <img id="photoProvider"  src="{{task.photoProvider}}" onError="this.src='assets/noImage.png'">
      </ion-col>
      <ion-col size=8>
        <ion-row style="margin-top: 11px;">
          <ion-label style="font-family: 'HelveticaNeueLTStd-Bd';">{{task.client_name}}</ion-label>
        </ion-row>
        <ion-row>
          <ion-label >{{task.type}}</ion-label>
        </ion-row>
       
      </ion-col>
    </ion-row>

    
      

      
        <ion-row>
          <ion-label style="font-family: 'HelveticaNeueLTStd-Bd';margin-left: 2px;">{{task.title}}</ion-label>
        </ion-row>

        <ion-row>
          <ion-label style="font-size: small;margin-top: 4px;margin-bottom: 0px;" >Evidencia</ion-label>
        </ion-row>

        <ion-row style="margin-top: 0px; padding-top: 0px;">
          <ion-col size=4 >
            <ion-card  style="border: 0.5px solid  rgb(49 ,49 ,57); width: 70px;height: 70px;border-radius: 5px 5px 5px 5px; margin-left: 0px;">
              <img id="fotoDenuncia"  
                    [src]="foto0 | safeUrlPipe" 
                     (click)="presentAlertConfirm(0)" >
            </ion-card>
            </ion-col>
            <ion-col size=4  style="text-align:start;">
              <ion-card style="border: 0.5px solid  rgb(49 ,49 ,57); width: 70px;height: 70px;border-radius: 5px 5px 5px 5px;margin-left: 0px;">
                <img id="fotoDenuncia"
                      [src]="foto1 | safeUrlPipe" 
                       (click)="presentAlertConfirm(1)"  >
              </ion-card>
              </ion-col>
          
              <ion-col size=4  style="text-align: start;">
                <ion-card style="border: 0.5px solid  rgb(49 ,49 ,57); width: 70px;height: 70px;border-radius: 5px 5px 5px 5px;margin-left: 0px;">
                  <img id="fotoDenuncia"  
                         [src]="foto2 | safeUrlPipe" 
                           (click)="presentAlertConfirm(2)">
                </ion-card>
                </ion-col>

        </ion-row>
        <ion-row style="margin-top: 10x;text-align: center;">
          <textarea name="Text2" cols="32" rows="10" 
          [(ngModel)]="comentario"
          placeholder="Escribe tu valoracion"
          ></textarea>
        </ion-row>
      
     
      
  
  </p-dialog>
</ion-content>
